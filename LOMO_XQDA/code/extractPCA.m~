%Input rows are the sentences, cols are the variabls
function sentenceVectors=extractPCA(sentences, numDims)
    meanS=mean(sentences,2);%col vector
    sentenceVector=bsxfun(@minus,sentences,meanS);
    cov=sentenceVector.'*sentenceVector/size(sentenceVector,1);
    [eigVecs, eigVals]=eig(cov);%eigVecs cols are eigenVectors
    eigVals=diag(eigVals);%col vector
    eigVals=eigVals.';
    [eigVals,idx]=sort(eigVals,'descend');
    eigVecs(:,:)=eigVecs(:,idx);
    eigVecs=eigVecs(:,1:numDims);
    eigVals=eigVals(1:numDims);
    for s= 1: size(sentences,1);
        for i=1: numDims
       sentenceVectors(s,i)= sentenceVector(s).'*eigVecs(:,i);
    end
    
end